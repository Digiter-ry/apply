<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Työhakemus — Apply</title>

  <!-- Ei ulkoisia fontteja/CDN:iä -->
  <link rel="stylesheet" href="assets/css/jobs-ui.css" />
  <link rel="stylesheet" href="assets/css/reward.css" />
  <link rel="stylesheet" href="assets/css/lenght-meter.css" />
</head>
<body>
  <a class="skip-link" href="#main">Siirry pääsisältöön</a>

  <!-- Päänavigaatio -->
  <nav class="navbar" role="navigation" aria-label="Päänavigaatio">
    <div class="nav-inner">
      <a class="brand" href="/" aria-current="page">Brand</a>

      <div class="nav-actions">
        <label for="lang" class="visually-hidden">Valitse käyttöliittymän kieli</label>
        <select id="lang" class="select" aria-label="Käyttöliittymän kieli">
          <option value="fi" selected>Suomi</option>
          <option value="sv">Svenska</option>
          <option value="en">English</option>
        </select>
      </div>
    </div>
  </nav>

  <!-- Hero (valinnainen) -->
  <header class="hero" role="banner">
    <div class="hero-inner">
      <h1 class="hero-title">Työhakemuksen luonti</h1>
      <p class="hero-lead">
        Kolme selkeää vaihetta. Tietojasi ei tallenneta palvelimelle — kaikki pysyy
        selaimessasi, kunnes päätät ladata tiedoston.
      </p>
      <ul class="hero-steps" aria-label="Vaiheistus">
        <li><span aria-hidden="true">1</span> Työpaikan tiedot</li>
        <li><span aria-hidden="true">2</span> Kerro itsestäsi</li>
        <li><span aria-hidden="true">3</span> Luonnos ja vienti</li>
      </ul>
    </div>
  </header>

  <!-- Pääsisältö -->
  <main id="main" class="main-wrapper" role="main">
    <div class="content-container">
      <!-- Vasen palsta: pääsisältö -->
      <article class="content-column content-primary">
        <!-- Vaihe 1 -->
        <section class="card" aria-labelledby="step1-title">
          <h2 id="step1-title">Vaihe 1 — Työpaikan tiedot</h2>
          <p class="muted">Täytä vähintään yksi kenttä. Mitä enemmän täytät, sitä
            paremmat tulokset luonnoksessa.</p>

          <div class="form-grid">
            <div class="field">
              <label for="jobTitle">Työpaikan nimi</label>
              <input id="jobTitle" name="jobTitle" class="input" type="text"
                     autocomplete="organization-title"
                     placeholder="Lisää työpaikan nimi josta etsit työpaikkaa" />
            </div>

            <div class="field">
              <label for="jobUrl">Työpaikan www-osoite</label>
              <input id="jobUrl" name="jobUrl" class="input" type="url"
                     inputmode="url" placeholder="Hakemasi työpaikan www-osoite" />
            </div>

            <div class="field">
              <label for="adUrl">Työpaikkailmoituksen www-osoite</label>
              <input id="adUrl" name="adUrl" class="input" type="url"
                     inputmode="url"
                     placeholder="Lisää ilmoituksen www-osoite (jos on)" />
            </div>

            <div class="field">
              <label for="role">Ammattinimike</label>
              <input id="role" name="role" class="input" type="text"
                     autocomplete="organization-title"
                     placeholder="Työtehtävä jota haet" />
            </div>
          </div>

          <div class="actions">
            <button id="toStep2" class="btn" data-next="2">
              Jatka vaiheeseen 2
            </button>
          </div>
        </section>

        <!-- Vaihe 2 -->
        <section class="card" aria-labelledby="step2-title">
          <h2 id="step2-title">Vaihe 2 — Kerro itsestäsi</h2>
          <p class="muted">
            Vinkki: 2–3 virkettä per laatikko on usein sopiva pituus. Näet merkkimäärän
            ja ruudunlukijalle ilmoitetaan muutoksista.
          </p>

          <div class="field">
            <label class="L-text" for="about">Lyhyt esittely</label>
            <textarea id="about" class="textarea answer" rows="5" data-optmin="180" data-optmax="360"
            aria-describedby="intro-meter" placeholder="Kuvaa lyhyesti taustasi ja vahvuudet"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="about">0</span> merkkiä
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="why">Miksi haet tähän tehtävään?</label>
            <textarea id="why" class="textarea answer" rows="5" class="answer" data-optmin="180" data-optmax="360"
              aria-describedby="motivation-meter" placeholder="Perustele lyhyesti sopivuutesi ja motivaatiosi"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="why">0</span> merkkiä
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="proof">Paras näyttö osaamisestasi</label>
            <textarea id="proof" class="textarea answer" rows="5"  data-optmin="160" data-optmax="320"
              aria-describedby="achievement-meter"
              placeholder="Kerro konkreettinen saavutus ja sen tuoma arvo"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="proof">0</span> merkkiä
            </div>
          </div>

          <div class="field inline">
            <div>
              <label for="targetLang" class="visually-hidden">Kohdekieli</label>
              <select id="targetLang" class="select" aria-label="Kohdekieli">
                <option value="fi" selected>Kirjoita suomeksi</option>
                <option value="sv">Kirjoita ruotsiksi</option>
                <option value="en">Write in English</option>
              </select>
            </div>

            <button id="toStep3" class="btn" data-next="3">Luo luonnos</button>
          </div>
        </section>

        <!-- Vaihe 3 -->
        <section class="card" aria-labelledby="step3-title">
          <h2 id="step3-title">Vaihe 3 — Luonnos ja vienti</h2>

          <div class="two-col">
            <div class="field">
              <label for="draftNative">Hakemusluonnos omalla kielellä</label>
              <textarea id="draftNative" class="textarea mono" rows="14"
                        placeholder="Luonnos ilmestyy tähän"></textarea>
            </div>

            <div class="field">
              <label for="draftTarget">Hakemusluonnos kohdekielellä</label>
              <textarea id="draftTarget" class="textarea mono" rows="14"
                        placeholder="Luonnos käännöksenä ilmestyy tähän"></textarea>
            </div>
          </div>

          <div class="actions">
            <button id="exportDocx" class="btn btn-secondary">Lataa .docx</button>
            <button id="sendEmail" class="btn" aria-describedby="sendHelp">Lähetä</button>
          </div>
          <p id="sendHelp" class="muted">
            ”Lähetä” avaa sähköpostiohjelmasi esitäytetyllä viestillä. Mitään ei
            lähetetä palvelimelle.
          </p>
        </section>
      </article>

        <!-- Oikea palsta: sivusisältö -->
        <aside class="content-column content-secondary sticky" role="complementary" aria-label="Sivupalsta">
          <section class="card" aria-labelledby="guide-title">
            <h2 id="guide-title">Ohjeet</h2>
            <div id="guideContent" class="guide" role="region" aria-live="polite">
              <!-- sisältö täytetään JS:llä -->
            </div>
          </section>

          <section class="card">
            <h2>Status</h2>
            <div id="status" class="status" role="status" aria-live="polite">Valmis.</div>
          </section>

          <!-- Dynaamisten ohjeiden template:t -->
          <template id="tpl-guide-1">
            <ul class="list">
              <li>Täytä vähintään yksi kenttä (nimi, URL tai ammattinimike).</li>
              <li>Voit liittää ilmoituksen www-osoitteen tarkempaa kontekstia varten.</li>
              <li>Tab/Shift+Tab liikkuu kenttien välillä. Enter painikkeissa.</li>
            </ul>
            <p class="legal">Tietoja ei lähetetä palvelimelle.</p>
          </template>

          <template id="tpl-guide-2">
            <ul class="list">
              <li>Pidä vastaukset 2–3 virkkeessä. Merkkilaskuri näyttää pituuden.</li>
              <li>Perustele sopivuus ja lisää konkreettinen näyttö (saavutus + vaikutus).</li>
              <li>Valitse kohdekieli ennen ”Luo luonnos”.</li>
            </ul>
          </template>

          <template id="tpl-guide-3">
            <ul class="list">
              <li>Muokkaa luonnosta. Vasemmalla oma kieli, oikealla kohdekieli (50/50).</li>
              <li>”Lataa .docx” (nyt .txt) tallentaa paikallisen kopion.</li>
              <li>”Lähetä” avaa sähköpostin — mitään ei lähetetä palvelimelle.</li>
            </ul>
          </template>
        </aside>

    </div>

    <noscript>
      <div class="noscript">
        Tämä sivu tarvitsee JavaScriptin toimiakseen. Ota JavaScript käyttöön selaimesi asetuksista.
      </div>
    </noscript>
  </main>
<!-- Ensimmäisen onnistumisen toast + pieni “spark”-animaatio -->
<div id="firstSuccessToast" class="toast-success" role="status" aria-live="polite" aria-atomic="true" hidden>
  <div class="toast-check">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M20.285 6.709a1 1 0 0 1 0 1.414l-9.193 9.193a1 1 0 0 1-1.414 0L3.715 12.55a1 1 0 1 1 1.414-1.414l4.14 4.14 8.486-8.486a1 1 0 0 1 1.414 0Z"/>
    </svg>
    <!-- kipinät -->
    <span class="spark s1"></span><span class="spark s2"></span><span class="spark s3"></span>
    <span class="spark s4"></span><span class="spark s5"></span><span class="spark s6"></span>
  </div>
  <div class="toast-text">
    <strong>Hyvä alku!</strong><br>
    Tämä tieto auttaa luonnoksen teossa.
  </div>
</div>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <p>&copy; <span id="year"></span> Kanavana/Digiter ry — Apply</p>
  </footer>

  <script src="assets/js/jobs-ui.js" defer></script>
  <script src="assets/js/reward.js" defer></script>
  <script src="assets/js/length-meter.js" defer></script>
</body>
</html>
