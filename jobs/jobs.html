<!DOCTYPE html>
<html lang="fi">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ty√∂hakemus ‚Äî Apply</title>

  <!-- Security & privacy metas -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self'; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'">
  <meta name="referrer" content="no-referrer" />
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), interest-cohort=()">

  <!-- Ei ulkoisia fontteja/CDN:i√§ -->
  <link rel="stylesheet" href="assets/css/jobs-ui.css" />
  <link rel="stylesheet" href="assets/css/reward.css" />
  <link rel="stylesheet" href="assets/css/lenght-meter.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>
  <a class="skip-link" href="#main">Siirry p√§√§sis√§lt√∂√∂n</a>

  <!-- P√§√§navigaatio -->
  <nav class="navbar" role="navigation" aria-label="P√§√§navigaatio">
    <div class="nav-inner">
      <a class="brand" href="/" data-i18n="brand">Brand</a>

      <div class="nav-actions">
        <label for="langSel" class="visually-hidden">Valitse k√§ytt√∂liittym√§n kieli</label>
        <!-- manifest.json t√§ytt√§√§ t√§m√§n selectin dynaamisesti -->
        <select id="langSel" class="select" aria-label="K√§ytt√∂liittym√§n kieli"></select>
        <div class="privacy-group">
          <label for="privacyMode" class="visually-hidden" data-i18n="privacy.label">Yksityisyystila</label>
          <input id="privacyMode" type="checkbox" aria-label="Yksityisyystila" data-i18n-attr="aria-label:privacy.label" />
          <span id="privacyModeText" class="muted" data-i18n="privacy.off">Yksityisyystila pois</span>
          <button id="privacyInfoBtn" type="button" title="" data-i18n-attr="title:privacy.help" aria-label="?">?</button>
        </div>
        <div class="apikey-group">
          <label for="userKey" class="visually-hidden" data-i18n="apikey.label">API-avain</label>
          <input id="userKey" type="password" class="input apikey-input" placeholder="API key" autocomplete="off" />
          <button id="toggleKey" type="button" class="btn" title="N√§yt√§/piilota">üëÅ</button>
          <button id="saveKey" type="button" class="btn" data-i18n="apikey.save">Tallenna</button>
          <span id="keyStatus" class="muted" aria-live="polite"></span>
        </div>
      </div>
    </div>
  </nav>

  <!-- Busy overlay (shown during long operations) -->
  <div id="busy" class="busy" hidden>
    <div class="busy-box" role="status" aria-live="polite" aria-atomic="true">
      <div class="spinner" aria-hidden="true"></div>
      <div id="busyText" class="busy-text">Luodaan luonnosta‚Ä¶</div>
    </div>
  </div>

  <!-- Top progress bar (indeterminate) -->
  <div id="progress" class="progress" hidden>
    <div class="bar" aria-hidden="true"></div>
  </div>

  <!-- Hero (valinnainen) -->
  <header class="hero" role="banner">
    <div class="hero-inner">
      <h1 class="hero-title" data-i18n="hero.title">Ty√∂hakemuksen luonti</h1>
      <p class="hero-lead" data-i18n="hero.lead">
        Kolme selke√§√§ vaihetta. Tietojasi ei tallenneta palvelimelle ‚Äî kaikki pysyy
        selaimessasi, kunnes p√§√§t√§t ladata tiedoston.
      </p>
      <ul class="hero-steps" aria-label="Vaiheistus">
        <li><span aria-hidden="true">1</span> <span data-i18n="hero.step1">Ty√∂paikan tiedot</span></li>
        <li><span aria-hidden="true">2</span> <span data-i18n="hero.step2">Kerro itsest√§si</span></li>
        <li><span aria-hidden="true">3</span> <span data-i18n="hero.step3">Luonnos ja vienti</span></li>
      </ul>
    </div>
  </header>

  <!-- P√§√§sis√§lt√∂ -->
  <main id="main" class="main-wrapper" role="main">
    <div class="content-container">
      <!-- Vasen palsta: p√§√§sis√§lt√∂ -->
      <article class="content-column content-primary">
        <!-- Vaihe 1 -->
        <section class="card" aria-labelledby="step1-title">
          <h2 id="step1-title" data-i18n="step1.title">Vaihe 1 ‚Äî Ty√∂paikan tiedot</h2>
          <p class="muted" data-i18n="step1.muted">T√§yt√§ v√§hint√§√§n yksi kentt√§. Mit√§ enemm√§n t√§yt√§t, sit√§
            paremmat tulokset luonnoksessa.</p>

          <div class="form-grid">
            <div class="field">
              <label for="jobTitle" data-i18n="label.jobTitle">Ty√∂paikan nimi</label>
              <input id="jobTitle" name="jobTitle" class="input" type="text"
                     autocomplete="organization-title"
                     data-i18n-attr="placeholder:placeholder.jobTitle"
                     placeholder="Lis√§√§ ty√∂paikan nimi josta etsit ty√∂paikkaa" />
            </div>

            <div class="field">
              <label for="jobUrl" data-i18n="label.jobUrl">Ty√∂paikan www-osoite</label>
              <input id="jobUrl" name="jobUrl" class="input" type="url"
                     inputmode="url" data-i18n-attr="placeholder:placeholder.jobUrl"
                     placeholder="Hakemasi ty√∂paikan www-osoite" />
            </div>

            <div class="field">
              <label for="adUrl" data-i18n="label.adUrl">Ty√∂paikkailmoituksen www-osoite</label>
              <input id="adUrl" name="adUrl" class="input" type="url"
                     inputmode="url" data-i18n-attr="placeholder:placeholder.adUrl"
                     placeholder="Lis√§√§ ilmoituksen www-osoite (jos on)" />
            </div>

            <div class="field">
              <label for="role" data-i18n="label.role">Ammattinimike</label>
              <input id="role" name="role" class="input" type="text"
                     autocomplete="organization-title" data-i18n-attr="placeholder:placeholder.role"
                     placeholder="Ty√∂teht√§v√§ jota haet" />
            </div>
          </div>

          <div class="actions">
            <button id="toStep2" class="btn" data-next="2" data-i18n="btn.toStep2">
              Jatka vaiheeseen 2
            </button>
          </div>
        </section>

        <!-- Vaihe 2 -->
        <section class="card" aria-labelledby="step2-title">
          <h2 id="step2-title" data-i18n="step2.title">Vaihe 2 ‚Äî Kerro itsest√§si</h2>
          <p class="muted" data-i18n="step2.muted">
            Vinkki: 2‚Äì3 virkett√§ per laatikko on usein sopiva pituus. N√§et merkkim√§√§r√§n
            ja ruudunlukijalle ilmoitetaan muutoksista.
          </p>

          <div class="field">
            <label class="L-text" for="about" data-i18n="label.about">Lyhyt esittely</label>
            <textarea id="about" class="textarea answer" rows="5" data-optmin="180" data-optmax="360"
            aria-describedby="intro-meter" data-i18n-attr="placeholder:placeholder.about"
            placeholder="Kuvaa lyhyesti taustasi ja vahvuudet"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="about">0</span> <span class="count-label" data-i18n="assist.chars">merkki√§</span>
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="why" data-i18n="label.why">Miksi haet t√§h√§n teht√§v√§√§n?</label>
            <textarea id="why" class="textarea answer" rows="5" class="answer" data-optmin="180" data-optmax="360"
              aria-describedby="motivation-meter" data-i18n-attr="placeholder:placeholder.why"
              placeholder="Perustele lyhyesti sopivuutesi ja motivaatiosi"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="why">0</span> <span class="count-label" data-i18n="assist.chars">merkki√§</span>
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="proof" data-i18n="label.proof">Paras n√§ytt√∂ osaamisestasi</label>
            <textarea id="proof" class="textarea answer" rows="5"  data-optmin="160" data-optmax="320"
              aria-describedby="achievement-meter" data-i18n-attr="placeholder:placeholder.proof"
              placeholder="Kerro konkreettinen saavutus ja sen tuoma arvo"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="proof">0</span> <span class="count-label" data-i18n="assist.chars">merkki√§</span>
            </div>
          </div>

          <div class="field inline">
            <div>
              <label for="targetLang" class="visually-hidden" data-i18n="label.targetLang">Kohdekieli</label>
              <!-- T√§ytet√§√§n manifestin kielill√§ my√∂s kohdekielivalintaan -->
              <select id="targetLang" class="select" aria-label="Kohdekieli"></select>
            </div>

            <button id="toStep3" class="btn" data-next="3" data-i18n="btn.toStep3">Luo luonnos</button>
          </div>
        </section>

        <!-- Vaihe 3 -->
        <section class="card" aria-labelledby="step3-title">
          <h2 id="step3-title" data-i18n="step3.title">Vaihe 3 ‚Äî Luonnos ja vienti</h2>

          <div class="two-col">
            <div class="field">
              <label for="draftNative" data-i18n="label.draftNative">Hakemusluonnos omalla kielell√§</label>
              <textarea id="draftNative" class="textarea mono" rows="14"
                        data-i18n-attr="placeholder:placeholder.draftNative"
                        placeholder="Luonnos ilmestyy t√§h√§n"></textarea>
            </div>

            <div class="field">
              <label for="draftTarget" data-i18n="label.draftTarget">Hakemusluonnos kohdekielell√§</label>
              <textarea id="draftTarget" class="textarea mono" rows="14"
                        data-i18n-attr="placeholder:placeholder.draftTarget"
                        placeholder="Luonnos k√§√§nn√∂ksen√§ ilmestyy t√§h√§n"></textarea>
            </div>
          </div>

          
        </section>
      </article>

        <!-- Oikea palsta: sivusis√§lt√∂ -->
        <aside class="content-column content-secondary sticky" role="complementary" aria-label="Sivupalsta">
          <section class="card" aria-labelledby="guide-title">
            <h2 id="guide-title" data-i18n="guide.title">Ohjeet</h2>
            <div id="guideContent" class="guide" role="region" aria-live="polite">
              <!-- sis√§lt√∂ t√§ytet√§√§n JS:ll√§ -->
            </div>
          </section>

          <!-- Dynaamisten ohjeiden template:t (pid√§ erill√§√§n #guideContent:sta, ettei tyhjennys poista n√§it√§) -->
          <template id="tpl-guide-1">
            <ul id="tips-list" class="list" data-i18n="guide.step1.tips"></ul>
            <p class="legal" data-i18n="guide.step1.legal"></p>
          </template>

          <template id="tpl-guide-2">
            <ul class="list" data-i18n="guide.step2.tips"></ul>
          </template>

          <template id="tpl-guide-3">
            <ul class="list" data-i18n="guide.step3.tips"></ul>
          </template>

          <section class="card">
            <h2 data-i18n="status.title">Status</h2>
            <div id="status" class="status" role="status" aria-live="polite" data-i18n="status.ready">Valmis.</div>
            <div class="actions actions-grid">
              <button id="exportDocx" class="btn" data-i18n="btn.exportDocx">Lataa .docx</button>
              <button id="sendEmail" class="btn" aria-describedby="sendHelp" data-i18n="btn.sendEmail">L√§het√§</button>
              <button id="clearAll" class="btn btn-secondary span-2" data-i18n="btn.clearAll">Tyhjenn√§ lomake</button>
            </div>
            <p id="sendHelp" class="muted" data-i18n="help.send">
              "L√§het√§" avaa s√§hk√∂postiohjelmasi esit√§ytetyll√§ viestill√§. Mit√§√§n ei
              l√§hetet√§ palvelimelle.
            </p>
            <div class="terms-accept">
              <input id="acceptTerms" type="checkbox" />
              <label for="acceptTerms">
                <span data-i18n="legal.terms.checkboxPrefix">Hyv√§ksyn</span>
                <a href="#" id="termsLinkInline" data-i18n="legal.terms.title">K√§ytt√∂ehdot</a>
              </label>
            </div>
          </section>



        </aside>

    </div>

    <noscript>
      <div class="noscript">
        T√§m√§ sivu tarvitsee JavaScriptin toimiakseen. Ota JavaScript k√§ytt√∂√∂n selaimesi asetuksista.
      </div>
    </noscript>
  </main>
  <!-- Mobiili: kiinte√§ ohjepalkki -->
  <div id="guideBar" class="guide-bar" role="region" aria-live="polite" aria-label="Ohjeet">
    <span class="visually-hidden" data-i18n="guide.title">Ohjeet</span>
    <div id="guideBarContent" class="guide-bar-content"></div>
    <button id="guideBarToggle" class="guide-bar-btn" aria-expanded="false" aria-controls="guidePanel" data-i18n="guide.more">N√§yt√§ lis√§√§</button>
  </div>

  <!-- Mobiilin ohjepaneeli -->
  <div id="guidePanel" class="guide-panel" role="dialog" aria-modal="true" aria-labelledby="guidePanelTitle" hidden>
    <div class="guide-panel-backdrop" tabindex="-1"></div>
    <div class="guide-panel-sheet" role="document">
      <div class="guide-panel-header">
        <h3 id="guidePanelTitle" data-i18n="guide.title">Ohjeet</h3>
        <button id="guidePanelClose" class="guide-panel-close" aria-label="Sulje" data-i18n-attr="aria-label:guide.close">√ó</button>
      </div>
      <div id="guidePanelContent" class="guide-panel-content"><!-- t√§ytet√§√§n JS:ll√§ --></div>
    </div>
  </div>
<!-- Ensimm√§isen onnistumisen toast + pieni ‚Äúspark‚Äù-animaatio -->
<div id="firstSuccessToast" class="toast-success" role="status" aria-live="polite" aria-atomic="true" hidden>
  <div class="toast-check">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M20.285 6.709a1 1 0 0 1 0 1.414l-9.193 9.193a1 1 0 0 1-1.414 0L3.715 12.55a1 1 0 1 1 1.414-1.414l4.14 4.14 8.486-8.486a1 1 0 0 1 1.414 0Z"/>
    </svg>
    <!-- kipin√§t -->
    <span class="spark s1"></span><span class="spark s2"></span><span class="spark s3"></span>
    <span class="spark s4"></span><span class="spark s5"></span><span class="spark s6"></span>
  </div>
  <div class="toast-text">
    <strong data-i18n="toast.successTitle">Hyv√§ alku!</strong><br>
    <span data-i18n="toast.successBody">T√§m√§ tieto auttaa luonnoksen teossa.</span>
  </div>
</div>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <div class="legal-links" role="region" aria-label="Legal">
      <nav class="legal-nav" aria-label="Legal links">
        <a href="#" id="legalAboutLink" data-i18n="legal.about.title">Tietoa ty√∂kalusta</a>
        <span class="sep" aria-hidden="true">‚Ä¢</span>
        <a href="#" id="legalAiLink" data-i18n="legal.ai.title">Teko√§ly√§ koskeva vastuuvapaus</a>
        <span class="sep" aria-hidden="true">‚Ä¢</span>
        <a href="#" id="legalPrivacyLink" data-i18n="legal.privacy.title">Tietosuoja</a>
        <span class="sep" aria-hidden="true">‚Ä¢</span>
        <a href="#" id="legalTermsLink" data-i18n="legal.terms.title">K√§ytt√∂ehdot</a>
      </nav>
    </div>
    <p class="copyrights">&copy; <span id="year"></span> Kanavana/Digiter ry - Apply</p>
  </footer>

  <!-- Legal modal (opens from footer links) -->
  <div id="legalModal" class="legal-modal" role="dialog" aria-modal="true" aria-labelledby="legalModalTitle" hidden>
    <div class="legal-modal-backdrop" tabindex="-1"></div>
    <div class="legal-modal-sheet" role="document">
      <div class="legal-modal-header">
        <h3 id="legalModalTitle"></h3>
        <button id="legalModalClose" class="legal-modal-close" aria-label="Close">x</button>
      </div>
      <div id="legalModalContent" class="legal-modal-content"></div>
    </div>
  </div>

  <script src="assets/js/i18n.js" defer></script>
  <!-- <script src="assets/js/jobs-content.js" defer></script> -->
  <script src="assets/js/jobs-ui.js" defer></script>
  <script src="assets/js/reward.js" defer></script>
  <script src="assets/js/length-meter.js" defer></script>
</body>
</html>
