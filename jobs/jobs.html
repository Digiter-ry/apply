<!DOCTYPE html>
<html lang="fi">
<head>
  <base href="/digiter/apps/apply/jobs/">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Työhakemus — Apply</title>

  <!-- Security & privacy metas -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self'; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self'">
  <meta name="referrer" content="no-referrer" />
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), interest-cohort=()">

  <!-- Ei ulkoisia fontteja/CDN:iä -->
  <link rel="stylesheet" href="assets/css/jobs-ui.css" />
  <link rel="stylesheet" href="assets/css/reward.css" />
  <link rel="stylesheet" href="assets/css/lenght-meter.css" />
</head>
<body>
  <a class="skip-link" href="#main">Siirry pääsisältöön</a>

  <!-- Päänavigaatio -->
  <nav class="navbar" role="navigation" aria-label="Päänavigaatio">
    <div class="nav-inner">
      <a class="brand" href="/" data-i18n="brand">Brand</a>

      <div class="nav-actions">
        <label for="langSel" class="visually-hidden">Valitse käyttöliittymän kieli</label>
        <!-- manifest.json täyttää tämän selectin dynaamisesti -->
        <select id="langSel" class="select" aria-label="Käyttöliittymän kieli"></select>
        <div class="privacy-group">
          <label for="privacyMode" class="visually-hidden" data-i18n="privacy.label">Yksityisyystila</label>
          <input id="privacyMode" type="checkbox" aria-label="Yksityisyystila" data-i18n-attr="aria-label:privacy.label" />
          <span id="privacyModeText" class="muted" data-i18n="privacy.off">Yksityisyystila pois</span>
          <button id="privacyInfoBtn" type="button" title="" data-i18n-attr="title:privacy.help" aria-label="?">?</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero (valinnainen) -->
  <header class="hero" role="banner">
    <div class="hero-inner">
      <h1 class="hero-title" data-i18n="hero.title">Työhakemuksen luonti</h1>
      <p class="hero-lead" data-i18n="hero.lead">
        Kolme selkeää vaihetta. Tietojasi ei tallenneta palvelimelle — kaikki pysyy
        selaimessasi, kunnes päätät ladata tiedoston.
      </p>
      <ul class="hero-steps" aria-label="Vaiheistus">
        <li><span aria-hidden="true">1</span> <span data-i18n="hero.step1">Työpaikan tiedot</span></li>
        <li><span aria-hidden="true">2</span> <span data-i18n="hero.step2">Kerro itsestäsi</span></li>
        <li><span aria-hidden="true">3</span> <span data-i18n="hero.step3">Luonnos ja vienti</span></li>
      </ul>
    </div>
  </header>

  <!-- Pääsisältö -->
  <main id="main" class="main-wrapper" role="main">
    <div class="content-container">
      <!-- Vasen palsta: pääsisältö -->
      <article class="content-column content-primary">
        <!-- Vaihe 1 -->
        <section class="card" aria-labelledby="step1-title">
          <h2 id="step1-title" data-i18n="step1.title">Vaihe 1 — Työpaikan tiedot</h2>
          <p class="muted" data-i18n="step1.muted">Täytä vähintään yksi kenttä. Mitä enemmän täytät, sitä
            paremmat tulokset luonnoksessa.</p>

          <div class="form-grid">
            <div class="field">
              <label for="jobTitle" data-i18n="label.jobTitle">Työpaikan nimi</label>
              <input id="jobTitle" name="jobTitle" class="input" type="text"
                     autocomplete="organization-title"
                     data-i18n-attr="placeholder:placeholder.jobTitle"
                     placeholder="Lisää työpaikan nimi josta etsit työpaikkaa" />
            </div>

            <div class="field">
              <label for="jobUrl" data-i18n="label.jobUrl">Työpaikan www-osoite</label>
              <input id="jobUrl" name="jobUrl" class="input" type="url"
                     inputmode="url" data-i18n-attr="placeholder:placeholder.jobUrl"
                     placeholder="Hakemasi työpaikan www-osoite" />
            </div>

            <div class="field">
              <label for="adUrl" data-i18n="label.adUrl">Työpaikkailmoituksen www-osoite</label>
              <input id="adUrl" name="adUrl" class="input" type="url"
                     inputmode="url" data-i18n-attr="placeholder:placeholder.adUrl"
                     placeholder="Lisää ilmoituksen www-osoite (jos on)" />
            </div>

            <div class="field">
              <label for="role" data-i18n="label.role">Ammattinimike</label>
              <input id="role" name="role" class="input" type="text"
                     autocomplete="organization-title" data-i18n-attr="placeholder:placeholder.role"
                     placeholder="Työtehtävä jota haet" />
            </div>
          </div>

          <div class="actions">
            <button id="toStep2" class="btn" data-next="2" data-i18n="btn.toStep2">
              Jatka vaiheeseen 2
            </button>
          </div>
        </section>

        <!-- Vaihe 2 -->
        <section class="card" aria-labelledby="step2-title">
          <h2 id="step2-title" data-i18n="step2.title">Vaihe 2 — Kerro itsestäsi</h2>
          <p class="muted" data-i18n="step2.muted">
            Vinkki: 2–3 virkettä per laatikko on usein sopiva pituus. Näet merkkimäärän
            ja ruudunlukijalle ilmoitetaan muutoksista.
          </p>

          <div class="field">
            <label class="L-text" for="about" data-i18n="label.about">Lyhyt esittely</label>
            <textarea id="about" class="textarea answer" rows="5" data-optmin="180" data-optmax="360"
            aria-describedby="intro-meter" data-i18n-attr="placeholder:placeholder.about"
            placeholder="Kuvaa lyhyesti taustasi ja vahvuudet"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="about">0</span> <span class="count-label" data-i18n="assist.chars">merkkiä</span>
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="why" data-i18n="label.why">Miksi haet tähän tehtävään?</label>
            <textarea id="why" class="textarea answer" rows="5" class="answer" data-optmin="180" data-optmax="360"
              aria-describedby="motivation-meter" data-i18n-attr="placeholder:placeholder.why"
              placeholder="Perustele lyhyesti sopivuutesi ja motivaatiosi"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="why">0</span> <span class="count-label" data-i18n="assist.chars">merkkiä</span>
            </div>
          </div>

          <div class="field">
            <label class="L-text" for="proof" data-i18n="label.proof">Paras näyttö osaamisestasi</label>
            <textarea id="proof" class="textarea answer" rows="5"  data-optmin="160" data-optmax="320"
              aria-describedby="achievement-meter" data-i18n-attr="placeholder:placeholder.proof"
              placeholder="Kerro konkreettinen saavutus ja sen tuoma arvo"></textarea>
            <div class="assist" aria-live="polite">
              <span class="count" data-for="proof">0</span> <span class="count-label" data-i18n="assist.chars">merkkiä</span>
            </div>
          </div>

          <div class="field inline">
            <div>
              <label for="targetLang" class="visually-hidden" data-i18n="label.targetLang">Kohdekieli</label>
              <!-- Täytetään manifestin kielillä myös kohdekielivalintaan -->
              <select id="targetLang" class="select" aria-label="Kohdekieli"></select>
            </div>

            <button id="toStep3" class="btn" data-next="3" data-i18n="btn.toStep3">Luo luonnos</button>
          </div>
        </section>

        <!-- Vaihe 3 -->
        <section class="card" aria-labelledby="step3-title">
          <h2 id="step3-title" data-i18n="step3.title">Vaihe 3 — Luonnos ja vienti</h2>

          <div class="two-col">
            <div class="field">
              <label for="draftNative" data-i18n="label.draftNative">Hakemusluonnos omalla kielellä</label>
              <textarea id="draftNative" class="textarea mono" rows="14"
                        data-i18n-attr="placeholder:placeholder.draftNative"
                        placeholder="Luonnos ilmestyy tähän"></textarea>
            </div>

            <div class="field">
              <label for="draftTarget" data-i18n="label.draftTarget">Hakemusluonnos kohdekielellä</label>
              <textarea id="draftTarget" class="textarea mono" rows="14"
                        data-i18n-attr="placeholder:placeholder.draftTarget"
                        placeholder="Luonnos käännöksenä ilmestyy tähän"></textarea>
            </div>
          </div>

          
        </section>
      </article>

        <!-- Oikea palsta: sivusisältö -->
        <aside class="content-column content-secondary sticky" role="complementary" aria-label="Sivupalsta">
          <section class="card" aria-labelledby="guide-title">
            <h2 id="guide-title" data-i18n="guide.title">Ohjeet</h2>
            <div id="guideContent" class="guide" role="region" aria-live="polite">
              <!-- sisältö täytetään JS:llä -->
            </div>
          </section>

          <!-- Dynaamisten ohjeiden template:t (pidä erillään #guideContent:sta, ettei tyhjennys poista näitä) -->
          <template id="tpl-guide-1">
            <ul id="tips-list" class="list" data-i18n="guide.step1.tips"></ul>
            <p class="legal" data-i18n="guide.step1.legal"></p>
          </template>

          <template id="tpl-guide-2">
            <ul class="list" data-i18n="guide.step2.tips"></ul>
          </template>

          <template id="tpl-guide-3">
            <ul class="list" data-i18n="guide.step3.tips"></ul>
          </template>

          <section class="card">
            <h2 data-i18n="status.title">Status</h2>
            <div id="status" class="status" role="status" aria-live="polite" data-i18n="status.ready">Valmis.</div>
            <div class="actions actions-grid">
              <button id="exportDocx" class="btn" data-i18n="btn.exportDocx">Lataa .docx</button>
              <button id="sendEmail" class="btn" aria-describedby="sendHelp" data-i18n="btn.sendEmail">Lähetä</button>
              <button id="clearAll" class="btn btn-secondary span-2" data-i18n="btn.clearAll">Tyhjennä lomake</button>
            </div>
            <p id="sendHelp" class="muted" data-i18n="help.send">
              "Lähetä" avaa sähköpostiohjelmasi esitäytetyllä viestillä. Mitään ei
              lähetetä palvelimelle.
            </p>
          </section>



        </aside>

    </div>

    <noscript>
      <div class="noscript">
        Tämä sivu tarvitsee JavaScriptin toimiakseen. Ota JavaScript käyttöön selaimesi asetuksista.
      </div>
    </noscript>
  </main>
  <!-- Mobiili: kiinteä ohjepalkki -->
  <div id="guideBar" class="guide-bar" role="region" aria-live="polite" aria-label="Ohjeet">
    <span class="visually-hidden" data-i18n="guide.title">Ohjeet</span>
    <div id="guideBarContent" class="guide-bar-content"></div>
    <button id="guideBarToggle" class="guide-bar-btn" aria-expanded="false" aria-controls="guidePanel" data-i18n="guide.more">Näytä lisää</button>
  </div>

  <!-- Mobiilin ohjepaneeli -->
  <div id="guidePanel" class="guide-panel" role="dialog" aria-modal="true" aria-labelledby="guidePanelTitle" hidden>
    <div class="guide-panel-backdrop" tabindex="-1"></div>
    <div class="guide-panel-sheet" role="document">
      <div class="guide-panel-header">
        <h3 id="guidePanelTitle" data-i18n="guide.title">Ohjeet</h3>
        <button id="guidePanelClose" class="guide-panel-close" aria-label="Sulje" data-i18n-attr="aria-label:guide.close">×</button>
      </div>
      <div id="guidePanelContent" class="guide-panel-content"><!-- täytetään JS:llä --></div>
    </div>
  </div>
<!-- Ensimmäisen onnistumisen toast + pieni “spark”-animaatio -->
<div id="firstSuccessToast" class="toast-success" role="status" aria-live="polite" aria-atomic="true" hidden>
  <div class="toast-check">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M20.285 6.709a1 1 0 0 1 0 1.414l-9.193 9.193a1 1 0 0 1-1.414 0L3.715 12.55a1 1 0 1 1 1.414-1.414l4.14 4.14 8.486-8.486a1 1 0 0 1 1.414 0Z"/>
    </svg>
    <!-- kipinät -->
    <span class="spark s1"></span><span class="spark s2"></span><span class="spark s3"></span>
    <span class="spark s4"></span><span class="spark s5"></span><span class="spark s6"></span>
  </div>
  <div class="toast-text">
    <strong data-i18n="toast.successTitle">Hyvä alku!</strong><br>
    <span data-i18n="toast.successBody">Tämä tieto auttaa luonnoksen teossa.</span>
  </div>
</div>

  <!-- Footer -->
  <footer class="footer" role="contentinfo">
    <p>&copy; <span id="year"></span> Kanavana/Digiter ry - Apply</p>
    <div class="legal-links" role="region" aria-label="Legal">
      <nav class="legal-nav" aria-label="Legal links">
        <a href="#" id="legalAboutLink" data-i18n="legal.about.title">Tietoa työkalusta</a>
        <span class="sep" aria-hidden="true">•</span>
        <a href="#" id="legalAiLink" data-i18n="legal.ai.title">Tekoälyä koskeva vastuuvapaus</a>
        <span class="sep" aria-hidden="true">•</span>
        <a href="#" id="legalPrivacyLink" data-i18n="legal.privacy.title">Tietosuoja</a>
      </nav>
    </div>
  </footer>

  <!-- Legal modal (opens from footer links) -->
  <div id="legalModal" class="legal-modal" role="dialog" aria-modal="true" aria-labelledby="legalModalTitle" hidden>
    <div class="legal-modal-backdrop" tabindex="-1"></div>
    <div class="legal-modal-sheet" role="document">
      <div class="legal-modal-header">
        <h3 id="legalModalTitle"></h3>
        <button id="legalModalClose" class="legal-modal-close" aria-label="Close">x</button>
      </div>
      <div id="legalModalContent" class="legal-modal-content"></div>
    </div>
  </div>

  <script src="assets/js/i18n.js" defer></script>
  <!-- <script src="assets/js/jobs-content.js" defer></script> -->
  <script src="assets/js/jobs-ui.js" defer></script>
  <script src="assets/js/reward.js" defer></script>
  <script src="assets/js/length-meter.js" defer></script>
</body>
</html>
